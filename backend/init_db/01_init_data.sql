-- Создание базовых ролей
INSERT INTO roles (name) VALUES 
    ('Инженер'),
    ('Менеджер'),
    ('Руководитель');

-- Создание статусов дефектов
INSERT INTO defect_statuses (name) VALUES 
    ('Новая'),
    ('В работе'),
    ('На проверке'),
    ('Закрыта'),
    ('Отменена');

-- Создание тестовых пользователей (пароль: password123)
-- Хеш для пароля 'password123': $2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2
INSERT INTO users (email, password, full_name, role_id) VALUES 
    ('admin@example.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2', 'Администратор Системы', 2),
    ('manager@example.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2', 'Петров Иван Сергеевич', 2),
    ('engineer1@example.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2', 'Смирнов Алексей Викторович', 1),
    ('engineer2@example.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2', 'Козлова Мария Андреевна', 1),
    ('supervisor@example.com', '$2b$12$LQv3c1yqBWVHxkd0LHAkCOYz6TtxMQJqhN8/LewiyLCWy1YtPKGK2', 'Директор Строительства', 3);

-- Создание тестовых проектов
INSERT INTO projects (name, description, default_executor_id) VALUES 
    ('ЖК "Северный"', 'Жилой комплекс на 500 квартир в северном районе города', 3),
    ('Торговый центр "Мега"', 'Строительство торгового центра площадью 25000 кв.м', 4),
    ('Офисное здание "БизнесПарк"', 'Современное офисное здание класса А', 3),
    ('Детский сад №45', 'Детский сад на 120 мест в микрорайоне', 4);

-- Создание тестовых дефектов
INSERT INTO defects (description, project_id, reporter_id, executor_id, status_id, priority, deadline, created_at, updated_at) VALUES 
    ('Трещина в несущей стене на 5 этаже', 1, 3, 3, 2, 3, '2024-01-15 12:00:00', '2024-01-10 09:30:00', '2024-01-12 14:20:00'),
    ('Неровная стяжка пола в квартире 45', 1, 4, 4, 1, 2, '2024-01-20 12:00:00', '2024-01-11 11:15:00', '2024-01-11 11:15:00'),
    ('Протечка кровли в секции А', 1, 3, 3, 3, 3, '2024-01-18 12:00:00', '2024-01-09 16:45:00', '2024-01-13 10:30:00'),
    ('Некачественная покраска стен', 2, 4, 4, 4, 1, '2024-01-25 12:00:00', '2024-01-08 13:20:00', '2024-01-14 09:15:00'),
    ('Неправильная установка окон', 2, 3, 3, 2, 2, '2024-01-22 12:00:00', '2024-01-12 08:00:00', '2024-01-12 08:00:00'),
    ('Дефект электропроводки в офисе 301', 3, 4, 4, 1, 3, '2024-01-19 12:00:00', '2024-01-13 14:30:00', '2024-01-13 14:30:00'),
    ('Неровность пола в игровой комнате', 4, 3, 3, 2, 2, '2024-01-21 12:00:00', '2024-01-11 10:45:00', '2024-01-12 16:20:00'),
    ('Проблемы с вентиляцией', 4, 4, 4, 1, 1, '2024-01-30 12:00:00', '2024-01-14 09:15:00', '2024-01-14 09:15:00');

-- Создание тестовых комментариев
INSERT INTO defect_comments (defect_id, user_id, comment, created_at) VALUES 
    (1, 2, 'Требуется экстренное вмешательство строительной экспертизы', '2024-01-10 10:00:00'),
    (1, 3, 'Трещина образовалась после усадки здания. Необходим ремонт', '2024-01-10 14:30:00'),
    (3, 2, 'Протечка устранена, ожидаем проверки качества работ', '2024-01-13 11:00:00'),
    (4, 4, 'Покраска выполнена повторно согласно техническим требованиям', '2024-01-14 10:00:00'),
    (5, 3, 'Окна демонтированы, ожидается поставка новых', '2024-01-12 09:00:00'),
    (7, 2, 'Назначен дополнительный контроль качества', '2024-01-12 17:00:00');
